<div class="search_detail">
    <div th:fragment="patientdetail">
        <div class="ExportData table-responsive">
            <table class="display table table-striped table-bordered" id="alternative_pagination_table1"
                   style="width:100%">
                <thead>
                <tr>
                    <th>Sl.</th>
                    <th>Registered On</th>
                    <th>Created By</th>
                    <!--  <th>Updated By</th> -->
                    <th>Lab Name</th>
                    <th>Patient Name</th>
                    <th>Age / Gender</th>
                    <th>Mobile No</th>
                    <th>Aadhaar No.</th>
                    <th>SHUHID</th>
                    <!-- <th>Hospital UHID</th> -->
                    <th>Address</th>
                    <th sec:authorize="hasRole('ABHA_USER') or hasRole('ABHA_MANAGER')">ABHA ID</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="patient,h : ${pat_detail}">
                    <td th:text=${h.count}></td>
                    <td th:text="${#dates.format({patient.createdAt} , 'dd-MMM-yyyy hh:mm a')}"></td>
                    <td th:text=${patient.createdByUsername}></td>
                    <!--  <td th:text=${patient.updatedByUsername}></td> -->
                    <td th:text="${#strings.capitalizeWords(patient.labName)}"></td>
                    <td th:text="${#strings.capitalizeWords(patient.title) } +' ' +${#strings.capitalizeWords(patient.firstName) } +' ' +(${patient.middleName}?${#strings.capitalizeWords(patient.middleName)}:'')+' ' +${#strings.capitalizeWords(patient.lastName)}+' '+${#strings.capitalizeWords(patient.relationWithPatient)}+' ' +${#strings.capitalizeWords(patient.relativeName)}"></td>

                    <td class="">[[${patient.age}]] / [[${patient.gender}]]</td>
                    <td th:text=${patient.mobileNo}></td>
                    <td th:text=${patient.aadhaarNo}></td>
                    <td th:text="${patient.mrn1}+'/ '+ ${#numbers.formatInteger(patient.mrn2,6)}"></td>
                    <!-- <td th:text=${patient.oldUhid}> </td> -->
                    <td th:text="(${patient.street}?${#strings.capitalizeWords(patient.street) }:'' )+' ' +(${patient.district}?${#strings.capitalizeWords(patient.ward) }:'' )+' ' +(${patient.district}?${#strings.capitalizeWords(patient.district) }:'' )+' ' +(${patient.state == 20}?${#strings.capitalizeWords('Madhya Pradesh') }:'' )"></td>
                    <td sec:authorize="hasRole('ABHA_USER') or hasRole('ABHA_MANAGER')" th:text=${patient.abhaId}></td>
                </tr>
                <tr>
                    <td align="center" colspan="10" th:if="${error}"><h2>[[${error}]]</h2></td>
                </tr>

                </tbody>

            </table>
        </div>
    </div>
</div>
<script type="text/javascript">

    /* $(document).ready(function(){

       var dob= document.getElementsByClassName('gender_age');

       for(var i=0; i<dob.length; i++){
           var childs =dob[i].children;
           var diff_ms = Date.now() - new Date(childs[0].value).getTime();
           var age_dt = new Date(diff_ms);

           var age_year = Math.abs(age_dt.getUTCFullYear() - 1970);
           var age_d =  Math.floor((age_dt % 31536000000) / 86400000);
           var age_month =   Math.floor(age_d/30);
           var age_day = age_d % 30;

           if(age_year != 0){
           childs[1].innerHTML = age_year+' Y ';
          }else if(age_month != 0){
              childs[1].innerHTML =  age_month+' M ';
          }else{
              childs[1].innerHTML = age_day+' D ';
          }

       }



   }); */


</script>